<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">
<meta name="author" content="Dr.&nbsp;Cheng-Han Yu   Department of Mathematical and Statistical Sciences   Marquette University">
<title>MATH/COSC 3570 - Spring 2024 - Data Importing r fontawesome::fa("database")</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
<link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
<link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
<link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css" id="theme">
<link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
<link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
<link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
<link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
<style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
<style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<meta property="og:title" content="MATH/COSC 3570 - Spring 2024 - Data Importing r fontawesome::fa(&quot;database&quot;)">
<meta property="og:description" content="MATH/COSC 3570 Introduction to Data Science">
<meta property="og:site-name" content="MATH/COSC 3570 - Spring 2024">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="#447099" class="quarto-title-block center"><h1 class="title">Data Importing <svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M448 80v48c0 44.2-100.3 80-224 80S0 172.2 0 128V80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6V288c0 44.2-100.3 80-224 80S0 332.2 0 288V186.1c14.9 11.8 34 21.2 54.8 28.6C99.7 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zM0 346.1c14.9 11.8 34 21.2 54.8 28.6C99.7 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c20.8-7.4 39.9-16.9 54.8-28.6V432c0 44.2-100.3 80-224 80S0 476.2 0 432V346.1z"></path></svg>
</h1>
  <p class="subtitle">MATH/COSC 3570 Introduction to Data Science</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Dr.&nbsp;Cheng-Han Yu <br> Department of Mathematical and Statistical Sciences <br> Marquette University 
</div>
</div>
</div>

</section><section id="section-1" class="title-slide slide level1 center" data-background-color="#A7D5E8" data-background-image="https://raw.githubusercontent.com/hadley/r4ds/main/diagrams/data-science/import.png" data-background-size="contain"><h1></h1>
<!-- <h1>Importing</h1> -->
</section><section id="section-2" class="title-slide slide level1 center" data-background-color="#A7D5E8"><h1></h1>
<img data-src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/readr.png" width="180"><img data-src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/readxl.png" width="180"><img data-src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/feather.png" width="180"><img data-src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/haven.png" width="180"><img data-src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/rvest.png" width="180"><img data-src="./images/08-import/vroom_logo.png" width="180"><img data-src="./images/08-import/datatable_logo.png" width="180"><img data-src="./images/08-import/rio_logo.png" width="180"><img data-src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/googlesheets4.png" width="180"><img data-src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/sparklyr.png" width="180"><h3>
DBI, jsonline, xml2, httr
</h3>
<h1>
R Data Importing
</h1>
<aside class="notes"><ul>
<li>There are tons of packages and tools out there, and there are lots of data file formats too.</li>
<li>Due to time limit, we will just cover commonly used tools and data file formats. And I think that should be enough for you to do your own project.</li>
<li>If you really need to import a data set that is stored in a very weird format, let me know. And we‚Äôll see how to solve this problem, maybe transform the format into another format. OK.</li>
<li>Here are the packages related to reading and writing files. We‚Äôll talk about some of them today.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section><section id="section-3" class="title-slide slide level1 center" data-background-color="#A7D5E8" data-background-image="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/readr.png" data-background-size="40%" data-background-position="70% 50%"><h1></h1>
<div class="left">
<h1>
Rectangular Data
</h1>
</div>
</section><section id="readr-functions" class="slide level2"><h2>readr üì¶ Functions</h2>
<table>
<colgroup>
<col style="width: 13%">
<col style="width: 63%">
<col style="width: 22%">
</colgroup>
<thead><tr class="header">
<th>Function</th>
<th>Format</th>
<th style="text-align: center;">Typical suffix</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>read_table()</code></td>
<td>white space separated values</td>
<td style="text-align: center;">txt</td>
</tr>
<tr class="even">
<td><code>read_csv()</code></td>
<td>comma separated values</td>
<td style="text-align: center;">csv</td>
</tr>
<tr class="odd">
<td><code>read_csv2()</code></td>
<td>semicolon separated values</td>
<td style="text-align: center;">csv</td>
</tr>
<tr class="even">
<td><code>read_tsv()</code></td>
<td>tab delimited separated values</td>
<td style="text-align: center;">tsv</td>
</tr>
<tr class="odd">
<td><code>read_fwf()</code></td>
<td>fixed width files</td>
<td style="text-align: center;">txt</td>
</tr>
<tr class="even">
<td><code>read_delim()</code></td>
<td>general text file format, must define delimiter</td>
<td style="text-align: center;">txt</td>
</tr>
</tbody>
</table>
<div class="fragment">
<div class="alert">
<p><strong>Be careful</strong>: The suffix usually tells us what type of file it is, but no guarantee that these always match.</p>
</div>
<div class="cell" data-layout-align="center" data-highlight.output="true">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>readr<span class="sc">::</span><span class="fu">read_lines</span>(<span class="st">"./data/murders.csv"</span>, <span class="at">n_max =</span> <span class="dv">3</span>)  <span class="do">## there is a header</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "state,abb,region,population,total" "Alabama,AL,South,4779736,135"     
[3] "Alaska,AK,West,710231,19"         </code></pre>
</div>
</div>
<aside class="notes"><ul>
<li>readr provides the following functions to read your data into R.</li>
<li>
<strong>Be careful</strong>: The suffix usually tells us what type of file it is, but no guarantee that these always match.</li>
<li>If you don‚Äôt want to open your data file, you can read several lines of your data in R using the function read_lines().</li>
<li>For example, I check the first three lines of the murders.csv file. And yes, it is a comma-separated-value or csv file.</li>
<li>Fixed width text files are special cases of text files where the format is specified by column widths, pad character and left/right alignment. Column widths are measured in units of characters. For example, if you have data in a text file where the first column always has exactly 10 characters, and the second column has exactly 5, the third has exactly 12 (and so on), this would be categorized as a fixed width text file.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section><section id="reading-data" class="slide level2"><h2>Reading Data</h2>
<p><code>read_csv()</code> prints out a column specification giving us <strong>delimiter</strong>, <strong>name</strong> and <strong>type</strong> of each column.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>murders_csv <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./data/murders.csv"</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co"># ‚îÄ‚îÄ Column specification ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co"># Delimiter: ","</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co"># chr (3): state, abb, region</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co"># dbl (2): population, total</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="fu">head</span>(murders_csv)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 5
  state      abb   region population total
  &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;
1 Alabama    AL    South     4779736   135
2 Alaska     AK    West       710231    19
3 Arizona    AZ    West      6392017   232
4 Arkansas   AR    South     2915918    93
5 California CA    West     37253956  1257
6 Colorado   CO    West      5029196    65</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="do">## View data in RStudio</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="fu">view</span>(murders_csv)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes"><ul>
<li>OK. Let‚Äôs try to read the murders.csv file into R. We use read_csv(), and in the first argument, we tell R its file path. Your path is generally not the same as my path, so you get to change it to your path.</li>
<li>When we run <code>read_csv()</code>, it prints out a column specification that gives the <strong>name</strong> and <strong>type</strong> of each column.</li>
<li>You can see the data set is actually the one in the dslabs package, and we use it in a previous lab exercise, right?</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="missing-values" class="slide level2"><h2>Missing Values</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="question">
<p>Which type is the column vector <code>x</code>? Why?</p>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="./images/08-import/df-na.png" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment">
<ul>
<li>
<strong>Type coercion</strong><sup>1</sup> happens and all column elements are transformed to character type.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">read_csv</span>(<span class="st">"./data/df-na.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource my_class500 number-lines code-with-copy"><code class="sourceCode"><span id="cb8-1"><a href="#cb8-1"></a># A tibble: 9 √ó 3</span>
<span id="cb8-2"><a href="#cb8-2"></a>  x     y              z     </span>
<span id="cb8-3"><a href="#cb8-3"></a>  &lt;chr&gt; &lt;chr&gt;          &lt;chr&gt; </span>
<span id="cb8-4"><a href="#cb8-4"></a>1 1     a              hi    </span>
<span id="cb8-5"><a href="#cb8-5"></a>2 &lt;NA&gt;  b              hello </span>
<span id="cb8-6"><a href="#cb8-6"></a>3 3     Not applicable 9999  </span>
<span id="cb8-7"><a href="#cb8-7"></a>4 4     d              ola   </span>
<span id="cb8-8"><a href="#cb8-8"></a>5 5     e              hola  </span>
<span id="cb8-9"><a href="#cb8-9"></a>6 .     f              whatup</span>
<span id="cb8-10"><a href="#cb8-10"></a>7 7     g              wassup</span>
<span id="cb8-11"><a href="#cb8-11"></a>8 8     h              sup   </span>
<span id="cb8-12"><a href="#cb8-12"></a>9 9     i              &lt;NA&gt;  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>I have a csv file with 3 columns x, y, and z.</li>
<li>It looks like it should be some sort of numeric data. Right I have bunch of numbers here.</li>
<li>Character string NA, but that‚Äôs just an NA. We have a period here, which is usually used as an NA as well.</li>
<li>But when we read this into R, we can see that it‚Äôs being read as a character.</li>
<li>The reason is that the period which is a character shows up, and type coercion happens and all column elements are transformed to character type.</li>
<li>How to solve this kind of problem. We want x to be double and the period is actually a missing value.</li>
<li>Imaging that if you have thousands of lines, you could very easily miss that period.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside><aside><ol class="aside-footnotes"><li id="fn1"><p>A column with elements having different types, they‚Äôll be coerced to <em>the most flexible</em> type. Types from least to most flexible: <em>logical ‚Äì integer ‚Äì double ‚Äì character</em>.</p></li></ol></aside></section><section id="solution-1-explicit-nas" class="slide level2"><h2>Solution 1: Explicit NAs</h2>
<ul>
<li>By default, <code>read_csv()</code> only recognizes <strong>‚Äù ‚Äú</strong> and <strong>NA</strong> as a missing value.</li>
<li>Specify the values that are used to represent missing values by argument <code>na</code>.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">read_csv</span>(<span class="st">"./data/df-na.csv"</span>, </span>
<span id="cb9-2"><a href="#cb9-2"></a>         <span class="at">na =</span> <span class="fu">c</span>(<span class="st">""</span>, <span class="st">"NA"</span>, <span class="st">"."</span>, <span class="st">"9999"</span>, <span class="st">"Not applicable"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="./images/08-import/df-na.png" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource my_class500 number-lines code-with-copy"><code class="sourceCode"><span id="cb10-1"><a href="#cb10-1"></a># A tibble: 9 √ó 3</span>
<span id="cb10-2"><a href="#cb10-2"></a>      x y     z     </span>
<span id="cb10-3"><a href="#cb10-3"></a>  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; </span>
<span id="cb10-4"><a href="#cb10-4"></a>1     1 a     hi    </span>
<span id="cb10-5"><a href="#cb10-5"></a>2    NA b     hello </span>
<span id="cb10-6"><a href="#cb10-6"></a>3     3 &lt;NA&gt;  &lt;NA&gt;  </span>
<span id="cb10-7"><a href="#cb10-7"></a>4     4 d     ola   </span>
<span id="cb10-8"><a href="#cb10-8"></a>5     5 e     hola  </span>
<span id="cb10-9"><a href="#cb10-9"></a>6    NA f     whatup</span>
<span id="cb10-10"><a href="#cb10-10"></a>7     7 g     wassup</span>
<span id="cb10-11"><a href="#cb10-11"></a>8     8 h     sup   </span>
<span id="cb10-12"><a href="#cb10-12"></a>9     9 i     &lt;NA&gt;  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>The function recognize string NA as missing value, but not period or any other character or strings.</li>
<li>One solution is to specify explicitly the value (or values) that are used to represent missing values.</li>
<li>If you know what sort of character are used to denote missing values in your data file, you can give those as part of na argument in the read_csv() function.</li>
<li>For example here, I treat ‚Äú‚Äú,‚ÄùNA‚Äù, ‚Äú.‚Äù, ‚Äú9999‚Äù, ‚ÄúNot applicable‚Äù all as missing values.</li>
<li>And now the class of x is double, and all those character strings are denoted as NA in the loaded data set.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="solution-2-specify-column-types" class="slide level2"><h2>Solution 2: Specify Column Types</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center" data-highlight.output="[3,9]">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">read_csv</span>(<span class="st">"./data/df-na.csv"</span>, </span>
<span id="cb11-2"><a href="#cb11-2"></a>         <span class="at">col_types =</span> </span>
<span id="cb11-3"><a href="#cb11-3"></a>             <span class="fu">cols</span>(<span class="fu">col_double</span>(), </span>
<span id="cb11-4"><a href="#cb11-4"></a>                  <span class="fu">col_character</span>(), </span>
<span id="cb11-5"><a href="#cb11-5"></a>                  <span class="fu">col_character</span>()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource my_class500 number-lines code-with-copy"><code class="sourceCode"><span id="cb12-1"><a href="#cb12-1"></a># A tibble: 9 √ó 3</span>
<span id="cb12-2"><a href="#cb12-2"></a>      x y              z     </span>
<span id="cb12-3"><a href="#cb12-3"></a>  &lt;dbl&gt; &lt;chr&gt;          &lt;chr&gt; </span>
<span id="cb12-4"><a href="#cb12-4"></a>1     1 a              hi    </span>
<span id="cb12-5"><a href="#cb12-5"></a>2    NA b              hello </span>
<span id="cb12-6"><a href="#cb12-6"></a>3     3 Not applicable 9999  </span>
<span id="cb12-7"><a href="#cb12-7"></a>4     4 d              ola   </span>
<span id="cb12-8"><a href="#cb12-8"></a>5     5 e              hola  </span>
<span id="cb12-9"><a href="#cb12-9"></a>6    NA f              whatup</span>
<span id="cb12-10"><a href="#cb12-10"></a>7     7 g              wassup</span>
<span id="cb12-11"><a href="#cb12-11"></a>8     8 h              sup   </span>
<span id="cb12-12"><a href="#cb12-12"></a>9     9 i              &lt;NA&gt;  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># Warning message:</span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="co"># One or more parsing issues, </span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="co"># call `problems()` </span></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="co"># on your data frame for details</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">problems</span>()</span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="co"># A tibble: 1 √ó 5</span></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="co">#     row   col expected actual file </span></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="co">#   &lt;int&gt; &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;</span></span>
<span id="cb14-5"><a href="#cb14-5"></a><span class="co"># 1     7     1 a double .      "" </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>Another solution is to specify column types when you import your data.</li>
<li>This might be handy when you know what your column types should be.</li>
<li>For example, here I can specify the column types using the col_types argument.</li>
<li>All column types are wrapped up in the cols() command, that x is double, y is character and z is character as well.</li>
<li>Ans now you can see x becomes double.</li>
<li>And here we actually get a warning. In row 6 and col x, we expect a double but it is actually a dot or period, which is a character, and so R treats it as NA, which is exactly what I want to do.</li>
<li>But R send a message telling us about this, and make sure this is what we want to do.</li>
<li>This option might be preferable if you cannot scan your data file, or don;t know what convention is being used for missing values in your data file, but you happen to know your column types.</li>
<li>The downside of this is that, here, Not applicable and 9999, they are all treated as valid character values, and they are not missing values. So be careful about this. You may need to manually clean your data.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="column-types" class="slide level2"><h2>Column Types</h2>
<table>
<thead><tr class="header">
<th><strong>type function</strong></th>
<th><strong>data type</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>col_character()</code></td>
<td>character</td>
</tr>
<tr class="even">
<td><code>col_date()</code></td>
<td>date</td>
</tr>
<tr class="odd">
<td><code>col_datetime()</code></td>
<td>POSIXct (date-time)</td>
</tr>
<tr class="even">
<td><code>col_double()</code></td>
<td>double (numeric)</td>
</tr>
<tr class="odd">
<td><code>col_factor()</code></td>
<td>factor</td>
</tr>
<tr class="even">
<td><code>col_guess()</code></td>
<td><em>let readr guess (default)</em></td>
</tr>
<tr class="odd">
<td><code>col_integer()</code></td>
<td>integer</td>
</tr>
<tr class="even">
<td><code>col_logical()</code></td>
<td>logical</td>
</tr>
<tr class="odd">
<td><code>col_number()</code></td>
<td>numbers mixed with non-number characters</td>
</tr>
<tr class="even">
<td><code>col_numeric()</code></td>
<td>double or integer</td>
</tr>
<tr class="odd">
<td><code>col_skip()</code></td>
<td>do not read</td>
</tr>
<tr class="even">
<td><code>col_time()</code></td>
<td>time</td>
</tr>
</tbody>
</table>
<aside class="notes"><ul>
<li>Here shows all possible column types you can use when importing your data into R. No need to memorize it. But just aware of them, and use them when you need to.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="writing-data" class="slide level2"><h2>Writing Data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="do">## Create tibbles using a row-by-row layout</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>(df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb15-3"><a href="#cb15-3"></a>  <span class="sc">~</span>x, <span class="sc">~</span>y,</span>
<span id="cb15-4"><a href="#cb15-4"></a>  <span class="dv">1</span>,  <span class="st">"a"</span>,</span>
<span id="cb15-5"><a href="#cb15-5"></a>  <span class="dv">2</span>,  <span class="st">"b"</span>,</span>
<span id="cb15-6"><a href="#cb15-6"></a>  <span class="dv">3</span>,  <span class="st">"c"</span></span>
<span id="cb15-7"><a href="#cb15-7"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 2
      x y    
  &lt;dbl&gt; &lt;chr&gt;
1     1 a    
2     2 b    
3     3 c    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="do">## same as tibble(x = 1:3, y = c(a, b, c))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="do">## save data to "./data/df.csv"</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>df <span class="sc">|&gt;</span> <span class="fu">write_csv</span>(<span class="at">file =</span> <span class="st">"./data/df.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes"><ul>
<li>We can also write our data to a csv file as well.</li>
<li>Here I create a tibble called df, and then I use write_csv() function to write the data set df to the file df.csv.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="read_rds-and-write_rds" class="slide level2"><h2>
<code>read_rds()</code> and <code>write_rds()</code>
</h2>
<ul>
<li>We save an R object (usually a data set) in <code>.Rds</code> in the R binary file format. <sup>1</sup>
</li>
</ul>
<div class="cell" data-layout-align="center" data-highlight.output="1">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>readr<span class="sc">::</span><span class="fu">write_rds</span>(cars, </span>
<span id="cb21-2"><a href="#cb21-2"></a>                 <span class="at">file =</span> <span class="st">"./data/cars.rds"</span>) </span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="co"># fs::dir_ls(path = "./data") |&gt; head(10) (Check Files using fs)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>my_car <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_rds</span>(<span class="at">file =</span> <span class="st">"./data/cars.rds"</span>) </span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="fu">head</span>(my_car, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speed dist
1     4    2
2     4   10
3     7    4</code></pre>
</div>
</div>
<aside class="notes"><ul>
<li>We save an R object (usually a data set) in <code>.Rds</code>m the R binary file format.</li>
<li>Remember we talked about RData format last time, right?</li>
<li>R provides two file formats of its own for storing data, .RDS and .RData. RDS files can store a single R object, and RData files can store multiple R objects.</li>
<li>Usually, if we save a data set, we use .Rds, and if we save several objects, and the objects are some variables or functions, we use .RData.</li>
<li>Read the data back into R.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<aside><ol class="aside-footnotes"><li id="fn2"><p>Check R built-in data sets using command <code><a href="https://rdrr.io/r/utils/data.html">data()</a></code>.</p></li></ol></aside></section><section id="section-4" class="slide level2"><h2></h2>
<div class="lab">
<p><span style="color:blue"> <strong>10-Import Data</strong> </span></p>
<!-- - Create a R script named **lab08-importdata.R** -->
<ul>
<li>If you haven‚Äôt, install and load the <code>tidyverse</code> package.</li>
</ul>
<p>In <strong>lab.qmd</strong> <code>## Lab 10</code> section, <!-- - If you haven't, upload data.zip posted in D2L Week 5 module to your lab project workspace. --> <!-- - Run the following code to see the data sets saved in the `dslabs` package: --> <!-- ```{r, eval=FALSE} --> <!-- path <- system.file("extdata", package = "dslabs") --> <!-- files <- list.files(path) --> <!-- files --> <!-- ``` --> <!-- - Use `file.path()` to create the file path for the file **"ssa-death-probability.csv"**.  --></p>
<ul>
<li>Import <strong>ssa_male_prob.csv</strong> and <strong>ssa_female_prob.Rds</strong> in the data folder using <code>read_csv()</code> and call them <code>ssa_male</code> and <code>ssa_female</code>, respectively.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>ssa_male <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read____</span>(____________)</span>
<span id="cb24-2"><a href="#cb24-2"></a>ssa_female <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read____</span>(____________)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Plot <code>Age</code> (x-axis) vs.&nbsp;<code>LifeExp</code> (y-axis) for <code>Female</code>. The type should be ‚Äúline‚Äù, and the line color is red. Add x-label, y-label and title to your plot.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">plot</span>(<span class="at">x =</span> _____, <span class="at">y =</span> _____, <span class="at">type =</span> ______, <span class="at">col =</span> ______,</span>
<span id="cb25-2"><a href="#cb25-2"></a>     <span class="at">xlab =</span> ______, <span class="at">ylab =</span> _______, <span class="at">main =</span> ____________)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Use <code><a href="https://rdrr.io/r/graphics/lines.html">lines()</a></code> to add a line of <code>Age</code> (x-axis) vs.&nbsp;<code>LifeExp</code> (y-axis) for <code>Male</code> to the plot. The color is blue.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="fu">lines</span>(<span class="at">x =</span> _____, <span class="at">y =</span> _____, <span class="at">col =</span> ______)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<aside class="notes"><div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb27-2"><a href="#cb27-2"></a>ssa <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./data/ssa-death-probability.csv"</span>)</span>
<span id="cb27-3"><a href="#cb27-3"></a>ssa_male <span class="ot">&lt;-</span> ssa[ssa<span class="sc">$</span>Sex <span class="sc">==</span> <span class="st">"Male"</span>, ]</span>
<span id="cb27-4"><a href="#cb27-4"></a>ssa_female <span class="ot">&lt;-</span> ssa[ssa<span class="sc">$</span>Sex <span class="sc">==</span> <span class="st">"Female"</span>, ]</span>
<span id="cb27-5"><a href="#cb27-5"></a><span class="fu">plot</span>(<span class="at">x =</span> ssa_female<span class="sc">$</span>Age, <span class="at">y =</span> ssa_female<span class="sc">$</span>LifeExp, </span>
<span id="cb27-6"><a href="#cb27-6"></a>     <span class="at">type =</span> <span class="st">"l"</span>, <span class="at">col =</span> <span class="dv">2</span>, <span class="at">lwd =</span> <span class="dv">3</span>,</span>
<span id="cb27-7"><a href="#cb27-7"></a>     <span class="at">xlab =</span> <span class="st">"Age"</span>, <span class="at">ylab =</span> <span class="st">"Life Exp"</span>,</span>
<span id="cb27-8"><a href="#cb27-8"></a>     <span class="at">main =</span> <span class="st">"Age vs. Life Exp by Gender"</span>)</span>
<span id="cb27-9"><a href="#cb27-9"></a><span class="fu">lines</span>(ssa_male<span class="sc">$</span>Age, ssa_male<span class="sc">$</span>LifeExp, <span class="at">col =</span> <span class="dv">4</span>, <span class="at">lwd =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section></section><section><section id="section-5" class="title-slide slide level1 center" data-background-color="#A7D5E8" data-background-image="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/readxl.png" data-background-size="40%" data-background-position="70% 50%"><h1></h1>
<div class="left">
<h1>
Read Excel Data
</h1>
</div>
<aside class="notes"><ul>
<li>Last time, we use the readr package to import our data into R, right?</li>
<li>What if you have a data set stored in microsoft excel, well we can use read excel package to read your data.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="readxl-functions" class="slide level2"><h2>readxl üì¶ Functions</h2>
<table>
<colgroup>
<col style="width: 13%">
<col style="width: 63%">
<col style="width: 22%">
</colgroup>
<thead><tr class="header">
<th>Function</th>
<th>Format</th>
<th style="text-align: center;">Typical suffix</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>read_excel()</code></td>
<td>auto detect the format</td>
<td style="text-align: center;">xls, xlsx</td>
</tr>
<tr class="even">
<td><code>read_xls()</code></td>
<td>original format</td>
<td style="text-align: center;">xls</td>
</tr>
<tr class="odd">
<td><code>read_xlsx()</code></td>
<td>new format</td>
<td style="text-align: center;">xlsx</td>
</tr>
</tbody>
</table>
<ul>
<li>The Microsoft Excel can have more than one sheet in one file.</li>
<li>The functions above read the <strong>first</strong> sheet by default.</li>
<li>The <code>excel_sheets()</code> gives us the names of all the sheets in an Excel file.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="fu">excel_sheets</span>(<span class="st">"./data/2010_bigfive_regents.xls"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Sheet1" "Sheet2" "Sheet3"</code></pre>
</div>
</div>
<aside class="notes"><ul>
<li>Here shows the main read excel functions. They are pretty similar to readr functions, but this time, your data file is not a text file, but a microsoft excel file.</li>
<li>The Microsoft Excel can have more than one sheet in one file.</li>
<li>The functions listed above read the <strong>first </strong>sheet by default.</li>
<li>If you don‚Äôt want open your excel file and check its sheet names, the <code>excel_sheets()</code> function gives us the names of all the sheets in an Excel file.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="sheet-names" class="slide level2"><h2>Sheet Names</h2>
<ul>
<li>The sheet names can be passed to the <code>sheet</code> argument to read sheets other than the first.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="fu">excel_sheets</span>(<span class="st">"./data/2010_bigfive_regents.xls"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Sheet1" "Sheet2" "Sheet3"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>(data_xls <span class="ot">&lt;-</span> <span class="fu">read_xls</span>(<span class="at">path =</span> <span class="st">"./data/2010_bigfive_regents.xls"</span>, </span>
<span id="cb32-2"><a href="#cb32-2"></a>                      <span class="at">sheet =</span> <span class="st">"Sheet3"</span>, <span class="at">skip =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 19 √ó 6
  Scores `131024` `113804` `104201` `103886` `91756`
   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;
1     10       NA       64        8      227      34
2     11        6       83       11      217      58
3     12       23       87        7       28      67
4     13        1       54       16      230      42
5     14        3      145       18      303      57
6     15       58      151       50      192      98
7     16        1      129       13      156     125
8     17       73      214       59      163     115
# ‚Ñπ 11 more rows</code></pre>
</div>
</div>
<aside class="notes"><ul>
<li>The sheet names can be passed to the <code>sheet</code> argument in the functions to read sheets other than the first.</li>
<li>For example, here we ask R to read the Sheet1 in the favourite-food excel file.</li>
<li>We can also specify an integer that indicates the position of the sheet.</li>
<li>We don‚Äôt have a lab exercise on this. You have data and code is right here. You can practice and see if you can read the excel file.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section></section><section><section id="section-6" class="title-slide slide level1 center" data-background-color="#ffde57" data-background-image="https://upload.wikimedia.org/wikipedia/commons/e/ed/Pandas_logo.svg" data-background-size="40%" data-background-position="70% 50%"><h1></h1>
<div class="left">
<h2>
<code>pd.read_csv</code>
</h2>
<h2>
<code>pd.read_excel</code>
</h2>
<h2>
<code>pd.DataFrame.to_csv</code>
</h2>
</div>
</section><section id="pd.read_csv" class="slide level2"><h2><code>pd.read_csv</code></h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb34-2"><a href="#cb34-2"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb34-3"><a href="#cb34-3"></a></span>
<span id="cb34-4"><a href="#cb34-4"></a>py_df <span class="op">=</span> pd.read_csv(<span class="st">'./data/murders.csv'</span>)</span>
<span id="cb34-5"><a href="#cb34-5"></a>py_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        state abb region  population  total
0     Alabama  AL  South     4779736    135
1      Alaska  AK   West      710231     19
2     Arizona  AZ   West     6392017    232
3    Arkansas  AR  South     2915918     93
4  California  CA   West    37253956   1257</code></pre>
</div>
</div>
</section><section id="pd.dataframe.to_csv" class="slide level2"><h2><code>pd.DataFrame.to_csv</code></h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1"></a>w <span class="op">=</span> {<span class="st">"x"</span>:[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], </span>
<span id="cb36-2"><a href="#cb36-2"></a>     <span class="st">"y"</span>:[<span class="st">'a'</span>, <span class="st">'b'</span>,<span class="st">'c'</span>]}</span>
<span id="cb36-3"><a href="#cb36-3"></a>wdf <span class="op">=</span> pd.DataFrame(w)</span>
<span id="cb36-4"><a href="#cb36-4"></a></span>
<span id="cb36-5"><a href="#cb36-5"></a>wdf.to_csv(<span class="st">"./data/wdf.csv"</span>)</span>
<span id="cb36-6"><a href="#cb36-6"></a>mydf <span class="op">=</span> pd.read_csv(<span class="st">'./data/wdf.csv'</span>)</span>
<span id="cb36-7"><a href="#cb36-7"></a>mydf.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Unnamed: 0  x  y
0           0  1  a
1           1  2  b
2           2  3  c</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1"></a><span class="co">## index = False means don't write row names</span></span>
<span id="cb38-2"><a href="#cb38-2"></a>wdf.to_csv(<span class="st">"./data/wdf.csv"</span>, index <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb38-3"><a href="#cb38-3"></a>mydf <span class="op">=</span> pd.read_csv(<span class="st">'./data/wdf.csv'</span>)</span>
<span id="cb38-4"><a href="#cb38-4"></a>mydf.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   x  y
0  1  a
1  2  b
2  3  c</code></pre>
</div>
</div>
</section><section id="pd.read_excel" class="slide level2"><h2><code>pd.read_excel</code></h2>
<div class="callout callout-warning callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<div style="font-size: 1.2em;">
<p><a href="https://pandas.pydata.org/docs/reference/api/pandas.read_excel.html"><code>pd.read_excel()</code></a> needs other libraries installed.</p>
<ul>
<li>
<code>openpyxl</code> for <code>.xlsx</code> format</li>
<li>
<code>xlrd</code> for <code>xls</code> format</li>
<li>
<code>py_install("xlrd")</code> in R or <code>pip install pandas</code> or <code>conda install pandas</code> in the terminal.</li>
</ul>
</div>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>Using virtual environment '/Users/chenghanyu/.virtualenvs/myenv' ...</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1"></a>df_x <span class="op">=</span> pd.read_excel(<span class="st">'./data/2010_bigfive_regents.xls'</span>, engine<span class="op">=</span><span class="st">'xlrd'</span>,</span>
<span id="cb41-2"><a href="#cb41-2"></a>sheet_name<span class="op">=</span><span class="st">"Sheet3"</span>, skiprows<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb41-3"><a href="#cb41-3"></a>df_x.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Scores  131024  113804  104201  103886  91756
0      10     NaN      64       8     227     34
1      11     6.0      83      11     217     58
2      12    23.0      87       7      28     67
3      13     1.0      54      16     230     42
4      14     3.0     145      18     303     57</code></pre>
</div>
</div>
<aside class="notes"><p>ImportError: Missing optional dependency ‚Äòopenpyxl‚Äô. Use pip or conda to install openpyxl.</p>
<p>https://stackoverflow.com/questions/65250207/pandas-cannot-open-an-excel-xlsx-file</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section></section><section id="other-importing-methods" class="title-slide slide level1 center"><h1>Other Importing Methods*</h1>

</section><section><section id="section-7" class="title-slide slide level1 center" data-background-color="#A7D5E8" data-background-image="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/feather.png" data-background-size="40%" data-background-position="70% 50%"><h1></h1>
<div class="left">
<h2>
Fast Reading and Writing
</h2>
<h2>
Data Format in R and Python
</h2>
</div>
</section><section id="feather" class="slide level2"><h2>feather üì¶</h2>
<ul>
<li>
<a href="https://github.com/wesm/feather"><strong>feather</strong></a> is a binary file format for storing data frames.
<ul>
<li>
<strong>Lightweight</strong>: file size is smaller than CSV files (but larger than R native binary .Rds/.RData files)</li>
<li>
<strong>Language agnostic</strong>: feather files are the same in R and Python</li>
<li>
<strong>High read and write performance</strong>: faster than <code>read_csv()</code> and <code>read_rds()</code>.</li>
</ul>
</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="fu">library</span>(feather)</span>
<span id="cb43-2"><a href="#cb43-2"></a>challenge <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">readr_example</span>(<span class="st">"challenge.csv"</span>),</span>
<span id="cb43-3"><a href="#cb43-3"></a>                      <span class="at">col_types =</span> readr<span class="sc">::</span><span class="fu">cols</span>(<span class="at">x =</span> readr<span class="sc">::</span><span class="fu">col_double</span>(), </span>
<span id="cb43-4"><a href="#cb43-4"></a>                                              <span class="at">y =</span> readr<span class="sc">::</span><span class="fu">col_date</span>()))</span>
<span id="cb43-5"><a href="#cb43-5"></a><span class="co"># It is a `.feather` file</span></span>
<span id="cb43-6"><a href="#cb43-6"></a>feather<span class="sc">::</span><span class="fu">write_feather</span>(<span class="at">x =</span> challenge, </span>
<span id="cb43-7"><a href="#cb43-7"></a>                       <span class="at">path =</span> <span class="st">"./data/challenge.feather"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="read-.feather-data-in-python" class="slide level2"><h2>Read <code>.feather</code> Data in Python</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>Using virtual environment '/Users/chenghanyu/.virtualenvs/myenv' ...</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1"></a><span class="co">## Need to install PyArrow package `r py_install("pyarrow")`</span></span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="im">import</span> pyarrow.feather <span class="im">as</span> feather</span>
<span id="cb45-3"><a href="#cb45-3"></a></span>
<span id="cb45-4"><a href="#cb45-4"></a>py_feather_df <span class="op">=</span> feather.read_feather(<span class="st">"./data/challenge.feather"</span>)</span>
<span id="cb45-5"><a href="#cb45-5"></a>py_feather_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        x     y
0   404.0  None
1  4172.0  None
2  3004.0  None
3   787.0  None
4    37.0  None</code></pre>
</div>
</div>
</section><section id="how-fast-is-feather" class="slide level2"><h2>How Fast is feather ?!</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="do">## Unit: seconds</span></span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="do">##                  expr   min    lq       mean median    uq   max neval</span></span>
<span id="cb47-3"><a href="#cb47-3"></a><span class="do">## readr::read_csv()      27.0  28.0  29.770890   29.0  32.0  33.0    10</span></span>
<span id="cb47-4"><a href="#cb47-4"></a><span class="do">## base::readRDS()         4.6   4.7   5.053674    5.1   5.3   5.6    10</span></span>
<span id="cb47-5"><a href="#cb47-5"></a><span class="do">## feather::read_feather   1.5   1.8   2.988021    3.4   3.6   4.1    10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="section-8" class="title-slide slide level1 center" data-background-color="#A7D5E8"><h1></h1>
<p><img data-src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/haven.png" width="180"><img data-src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/rvest.png" width="180"><img data-src="./images/08-import/vroom_logo.png" width="180"><img data-src="./images/08-import/datatable_logo.png" width="180"><img data-src="./images/08-import/rio_logo.png" width="180"><img data-src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/googlesheets4.png" width="180"><img data-src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/sparklyr.png" width="180"></p>

<p><img src="https://upload.wikimedia.org/wikipedia/commons/e/e8/Marquette_Golden_Eagles_logo.svg" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://math3570-s24.github.io/website/">math3570-s24.github.io/website</a></p>
</div>
</section>
</div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="../site_libs/revealjs/dist/reveal.js"></script><!-- reveal.js plugins --><script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script><script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script><script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script><script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script><script src="../site_libs/revealjs/plugin/multiplex/socket.io.js"></script><script src="../site_libs/revealjs/plugin/multiplex/multiplex.js"></script><script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script><script src="../site_libs/revealjs/plugin/notes/notes.js"></script><script src="../site_libs/revealjs/plugin/search/search.js"></script><script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script><script src="../site_libs/revealjs/plugin/math/math.js"></script><script>window.define = window.backupDefine; window.backupDefine = undefined;</script><script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'multiplex': {"secret":null,"id":"6d4b9c2e66e1e1ba","url":"https://reveal-multiplex.glitch.me/"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1800,

        height: 1000,

        // Factor of the display size that should remain empty around the content
        margin: 5.0e-2,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          
          RevealSearch,
          RevealZoom
        ]
      });
    </script><script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script><script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>


</body></html>